---
title: 2024开源操作系统训练营第一阶段总结-叶武
date: 2024-04-27 09:28:19
Category: 2024春夏季开源操作系统训练营
---
<!-- more -->
# Rust学习
  经过这一段时间的学习，我对于rust这门编程语言有了一个基本的了解。我觉得rust与C++有很多的相似之处，但其编程思维还是有很多不同之处。
就我这一段的时间学习，我对于rust的内存安全机制、类型系统等都有了一定的认识。
## rust内存安全机制
  rust的内存安全是通过所有权系统+生命周期+借用检查器来完成的。rust一共有三种存储变量值的区域，分别是静态存储区、栈以及堆。其中静态
存储区一般存放常量以及全局变量，比较有代表性的就是str类型，它被硬编码到程序编译的二进制文件中。栈一般存放确定大小的变量的值、而堆一
般存放可变大小变量的值。栈和静态存储区内存区域都比较好管理，但是堆空间的管理就比较困难了，它可能会出现各种各样问题，比如说内存泄露、
内存空间的二次释放等问题。内存泄漏产生的原因主要有循环引用、或者是离开变量作用域时没有释放内存空间，第一个问题可以通过weak指针来解决，
让后第二个问题可以通过RAII机制来解决，在rust中也就是实现drop trait，其它面向对象语言就是使用析构函数解决。对于内存空间的二次释放，主
要是因为内存区域有多个所有者，即有多个指针指向该变量，本质上是因为内存浅拷贝的原因导致的，在rust中通过采用move语义解决这个问题，指针
进行赋值，相当于所有权之间的转移。但是这同样也存在很多问题，比如说同一时间不能有多个指针指向同一片内存会导致一些操作难以实现，或者
是导致内存经常进行拷贝操作，效率降低，在rust中是通过RC计数指针来解决这一弊端。但是RC只是一个只读指针，不能够对内存进行修改操作，所以
rust中提供内部可变性，避开编译时的内存借用检查，采用运行时内存借用检查来做到内存安全，又给程序员提供一定的便捷性。另外，我们知道引用
本质上也是一个指针，所以引用的生命周期一定要不大于数据的生命周期，引用的生命周期一般是从声明开始，到引用的最后一次使用结束，但是在某
些情况下，引用的生命周期在很难确定，所以我们需要去显示标注引用生命周期之间的关系，来确保编译器能够完成借用检查，保证内存安全。
## rust类型系统
  rust基本上是没有隐式的类型转换，除了Deref trait。如果我们想要完成类型之间的转换，我们可以通过实现From、Into、TryFrom、TryInto、Deref、
DerefMut、FromStr等trait来完成类型转换，或者使用as关键字完成基本类型转换。
  rust还有其他让我印象深刻的点，比如说rust错误处理、rust并发、以及常用数据结构等。训练营提供了丰富的学习资源让我能够很快的上手rust这门
编程语言，非常期待第二阶段和第三阶段的学习。
